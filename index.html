<!DOCTYPE html>
<html>
  <head>
    <title>Items</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- avoid favicon request error -->
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon"> 
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
     .top-margin { margin: 10px; }
    </style>
  </head>
  <body>
    <!-- base layout -->
    <script type="text/x-handlebars">
      <div class="container">
        <div class="row top-margin">
          <div class="col-xs-12 col-sm-12">
            <ul class="nav nav-tabs">
              <li>
                <a href="#/items">All</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="row top-margin">
          {{ outlet }}
        </div>
      </div>
    </script>
    <!-- item list -->
    <script type="text/x-handlebars" data-template-name="items">
      <div class="col-xs-12 col-sm-4">
        <button class="btn btn-default" {{action "createItem"}}><i class="fa fa-plus"></i> new item</button>
        <div class="list-group">
          {{#each}}
            {{#link-to "item" this class="list-group-item clearfix"}}
              {{title}}
              <button {{action "deleteItem" this bubbles=false}} class="pull-right btn btn-xs btn-danger"><i class="fa fa-trash-o"></i></button>
            {{/link-to}}
          {{/each}}
        </div>
      </div>
      {{ outlet }}
    </script>
    <!-- item detials -->
    <script type="text/x-handlebars" data-template-name="item">
      <div class="col-xs-12 col-sm-8">
        <div class="well well-sm form-inline">
          <span style="font-size:150%">
        {{#with this as item}}
          {{#each labels}}
            <span class="label label-default">
              {{#link-to "item" item labels=this }}{{this}}{{/link-to}}
              <button {{action 'deleteLabel' this}} class="btn btn-xs btn-danger">x</button></span>
          {{/each}}
        {{/with}}
          </span>
          <div class="form-group">
            {{ input class="form-control" placeholder="new label" action="addLabel" value=newLabel }}
          </div>
        </div>
        {{ textarea value=title class="form-control" rows=20 }}
        <!--<button {{action 'save'}}>save</button>-->
      </div>
    </script>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <script src="https://www.dropbox.com/static/api/dropbox-datastores-1.0-latest.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.1.2/handlebars.min.js"></script>
    <!--<script src="http://builds.emberjs.com/release/ember.js"></script>-->
    <!--<script src="http://builds.emberjs.com/beta/ember-data.js"></script>-->
    <script>
      ENV = {FEATURES: {'query-params': true}};
    </script>
    <script src="http://builds.emberjs.com/canary/ember.js"></script>
    <script src="http://builds.emberjs.com/canary/ember-data.js"></script>
    <script src="items.js" type="text/javascript"></script>
    <!--<script src="application.js"></script>
    <script src="router.js"></script>-->
  </body>
</html>
